{# Stalker a Production Asset Management System
 Copyright (C) 2009-2013 Erkan Ozgur Yilmaz
 
 This file is part of Stalker.
 
 This library is free software; you can redistribute it and/or
 modify it under the terms of the GNU Lesser General Public
 License as published by the Free Software Foundation;
 version 2.1 of the License.

 This library is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 Lesser General Public License for more details.

 You should have received a copy of the GNU Lesser General Public
 License along with this library; if not, write to the Free Software
 Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
#}
<div style="margin-top: 0" id='department_border_container'>
    <div id='department_summary'>
        {# Summary #}
    </div>
    <div id='department_related_data_tab_container'>
        {# Tab View #}
    </div>
</div>

<script type='text/javascript'>
    require([
        'dijit/registry',
        'dijit/layout/BorderContainer',
        'dijit/layout/TabContainer',
        'dojox/layout/ContentPane',
        'dojo/domReady!'],
            function (registry, BorderContainer, TabContainer, ContentPane) {

                var department_BorderContainer = new BorderContainer({
                    region: 'center',
                    orientation: 'vertical',
                    splitter: false

                }, 'department_border_container');

                var summary_content_pane = new ContentPane({
                    title: 'Summarize',
                    href: 'summarize/department/{{ department.id }}',
                    region: 'top',
                    style: 'width:100%; height:200px; padding: 0; margin:0; background-color: #eeeeee;',
                    splitter: true
                }, 'department_summary');

                // **********************************************************************
                // Bottom Part - Complex Data View

                var department_related_data_tab_container = new TabContainer({
                    region: 'center',
                    style: 'width: 100%; background-color: #7f9599'
                }, 'department_related_data_tab_container');

                var users_content_pane = new ContentPane({
                    title: 'Users',
                    href: 'list/users/{{ department.id }}',
                    style: 'padding: 0; margin:0;'
                });

                department_related_data_tab_container.addChild(users_content_pane);

                department_BorderContainer.addChild(summary_content_pane);
                department_BorderContainer.addChild(department_related_data_tab_container);
                department_BorderContainer.startup();

            });
</script>

